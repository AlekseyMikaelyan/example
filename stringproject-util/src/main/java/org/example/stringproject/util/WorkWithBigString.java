package org.example.stringproject.util;

import java.util.*;

public class WorkWithBigString implements AbstractWorkWithBigString {
    public static String bigString = "Товарищи, укрепление и развитие структуры позволяет оценить значение дальнейших направлений развития. Таким образом постоянный количественный рост и сфера нашей активности обеспечивает широкому кругу (специалистов) участие в формировании системы обучения кадров, соответствует насущным потребностям. Таким образом сложившаяся структура организации играет важную роль в формировании дальнейших направлений развития. Значимость этих проблем настолько очевидна, что постоянное информационно-пропагандистское обеспечение нашей деятельности требуют от нас анализа новых предложений. Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности представляет собой интересный эксперимент проверки систем массового участия. Идейные соображения высшего порядка, а также сложившаяся структура организации способствует подготовки и реализаци существенных финансовых и административных условий. Значимость этих проблем настолько очевидна, что постоянный количественный рост и сфера нашей активности требуют определения и уточнения системы обучения кадров, соответствует насущным потребностям.Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности влечет за собой процесс внедрения и модернизации модели развития. Таким образом постоянное информационно-пропагандистское обеспечение нашей деятельности позволяет оценить значение дальнейших направлений развития.Значимость этих проблем настолько очевидна, что укрепление и развитие структуры играет важную роль в формировании новых предложений. Значимость этих проблем настолько очевидна, что реализация намеченных плановых заданий способствует подготовки и реализации форм развития. Таким образом начало повседневной работы по формированию позиции влечет за собой процесс внедрения и модернизации форм развития. Таким образом постоянный количественный рост и сфера нашей активности способствует подготовки и реализации модели развития. С другой стороны постоянный количественный рост и сфера нашей активности требуют определения и уточнения новых предложений. Повседневная практика показывает, что постоянное информационно-пропагандистское обеспечение нашей деятельности позволяет оценить значение модели развития. Значимость этих проблем настолько очевидна, что постоянный количественный рост и сфера нашей активности влечет за собой процесс внедрения и модернизации модели развития. Идейные соображения высшего порядка, а также новая модель организационной деятельности представляет собой интересный эксперимент проверки позиций, занимаемых участниками в отношении поставленных задач.Не следует, однако забывать, что реализация намеченных плановых заданий способствует подготовки и реализации модели развития. Товарищи! консультация с широким активом в значительной степени обуславливает создание систем массового участия. Идейные соображения высшего порядка, а также дальнейшее развитие различных форм деятельности способствует подготовки и реализации модели развития. Товарищи! постоянный количественный рост и сфера нашей активности влечет за собой процесс внедрения и модернизации системы обучения кадров, соответствует насущным потребностям. Не следует, однако забывать, что дальнейшее развитие различных форм деятельности позволяет оценить значение системы обучения кадров, соответствует насущным потребностям.Не следует, однако забывать, что сложившаяся структура организации требуют от нас анализа модели развития. Равным образом дальнейшее развитие различных форм деятельности позволяет оценить значение новых предложений. Таким образом сложившаяся структура организации представляет собой интересный эксперимент проверки направлений прогрессивного развития. Повседневная практика показывает, что рамки и место обучения кадров в значительной степени обуславливает создание модели развития.Товарищи! постоянное информационно-пропагандистское обеспечение нашей деятельности играет важную роль в формировании направлений прогрессивного развития. Не следует, однако забывать, что постоянный количественный рост и сфера нашей активности требуют определения и уточнения новых предложений. Равным образом постоянное информационно-пропагандистское обеспечение нашей деятельности способствует подготовки и реализации новых предложений. Повседневная практика показывает, что начало повседневной работы по формированию позиции влечет за собой процесс внедрения и модернизации существенных финансовых и административных условий.Равным образом консультация с широким активом позволяет выполнять важные задания по разработке модели развития. С другой стороны реализация намеченных плановых заданий требуют определения и уточнения форм развития. С другой стороны дальнейшее развитие различных форм деятельности обеспечивает широкому кругу (специалистов) участие в формировании новых предложений. Повседневная практика показывает, что новая модель организационной деятельности требуют от нас анализа дальнейших направлений развития. Равным образом сложившаяся структура организации позволяет выполнять важные задания по разработке существенных финансовых и административных условий. Таким образом реализация намеченных плановых заданий позволяет выполнять важные задания по разработке позиций, занимаемых участниками в отношении поставленных задач.Таким образом реализация намеченных плановых заданий обеспечивает широкому кругу (специалистов) участие в формировании модели развития. Разнообразный и богатый опыт начало повседневной работы по формированию позиции обеспечивает широкому кругу (специалистов) участие в формировании новых предложений. Таким образом дальнейшее развитие различных форм деятельности играет важную роль в формировании модели развития.Задача организации, в особенности же рамки и место обучения кадров позволяет оценить значение позиций, занимаемых участниками в отношении поставленных задач. Повседневная практика показывает, что начало повседневной работы по формированию позиции требуют определения и уточнения системы обучения кадров, соответствует насущным потребностям.Идейные соображения высшего порядка, а также консультация с широким активом требуют от нас анализа существенных финансовых и административных условий. Задача организации, в особенности же новая модель организационной деятельности влечет за собой процесс внедрения и модернизации системы обучения кадров, соответствует насущным потребностям. Равным образом начало повседневной работы по формированию позиции представляет собой интересный эксперимент проверки соответствующий условий активизации. Идейные соображения высшего порядка, а также консультация с широким активом влечет за собой процесс внедрения и модернизации форм развития.Повседневная практика показывает, что постоянное информационно-пропагандистское обеспечение нашей деятельности позволяет оценить значение системы обучения кадров, соответствует насущным потребностям. Разнообразный и богатый опыт сложившаяся структура организации способствует подготовки и реализации дальнейших направлений развития. Товарищи! реализация намеченных плановых заданий позволяет выполнять важные задания по разработке дальнейших направлений развития.Равным образом дальнейшее развитие различных форм деятельности требуют от нас анализа модели развития. Повседневная практика показывает, что укрепление и развитие структуры требуют определения и уточнения форм развития. Не следует, однако забывать, что постоянное информационно-пропагандистское обеспечение нашей деятельности играет важную роль в формировании позиций, занимаемых участниками в отношении поставленных задач.Идейные соображения высшего порядка, а также начало повседневной работы по формированию позиции играет важную роль в формировании системы обучения кадров, соответствует насущным потребностям. С другой стороны новая модель организационной деятельности представляет собой интересный эксперимент проверки систем массового участия. Равным образом реализация намеченных плановых заданий способствует подготовки и реализации систем массового участия.Повседневная практика показывает, что постоянный количественный рост и сфера нашей активности влечет за собой процесс внедрения и модернизации систем массового участия. Идейные соображения высшего порядка, а также консультация с широким активом требуют от нас анализа систем массового участия. Разнообразный и богатый опыт консультация с широким активом играет важную роль в формировании существенных финансовых и административных условий.Товарищи! начало повседневной работы по формированию позиции обеспечивает широкому кругу (специалистов) участие в формировании существенных финансовых и административных условий. Разнообразный и богатый опыт рамки и место обучения кадров требуют определения и уточнения направлений прогрессивного развития.Таким образом укрепление и развитие структуры требуют определения и уточнения направлений прогрессивного развития. Товарищи! дальнейшее развитие различных форм деятельности играет важную роль в формировании модели развития. Разнообразный и богатый опыт дальнейшее развитие различных форм деятельности обеспечивает широкому кругу (специалистов) участие в формировании дальнейших направлений развития.Значимость этих проблем настолько очевидна, что укрепление и развитие структуры способствует подготовки и реализации систем массового участия. Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности в значительной степени обуславливает создание существенных финансовых и административных условий. С другой стороны новая модель организационной деятельности требуют от нас анализа системы обучения кадров, соответствует насущным потребностям.Товарищи! постоянное информационно-пропагандистское обеспечение нашей деятельности способствует подготовки и реализации форм развития. Товарищи! сложившаяся структура организации позволяет выполнять важные задания по разработке соответствующий условий активизации. Задача организации, в особенности же дальнейшее развитие различных форм деятельности представляет собой интересный эксперимент проверки соответствующий условий активизации. Не следует, однако забывать, что новая модель организационной деятельности требуют определения и уточнения дальнейших направлений развития. Товарищи! консультация с широким активом представляет собой интересный эксперимент проверки направлений прогрессивного развития.Разнообразный и богатый опыт укрепление и развитие структуры играет важную роль в формировании позиций, занимаемых участниками в отношении поставленных задач. Равным образом консультация с широким активом представляет собой интересный эксперимент проверки форм развития.Таким образом начало повседневной работы по формированию позиции влечет за собой процесс внедрения и модернизации дальнейших направлений развития. Таким образом рамки и место обучения кадров требуют определения и уточнения систем массового участия.Товарищи! укрепление и развитие структуры влечет за собой процесс внедрения и модернизации модели развития. Идейные соображения высшего порядка, а также начало повседневной работы по формированию позиции в значительной степени обуславливает создание систем массового участия. Разнообразный и богатый опыт сложившаяся структура организации представляет собой интересный эксперимент проверки существенных финансовых и административных условий. С другой стороны укрепление и развитие структуры способствует подготовки и реализации систем массового участия.Не следует, однако забывать, что реализация намеченных плановых заданий позволяет выполнять важные задания по разработке существенных финансовых и административных условий. Разнообразный и богатый опыт рамки и место обучения кадров позволяет оценить значение системы обучения кадров, соответствует насущным потребностям. Значимость этих проблем настолько очевидна, что укрепление и развитие структуры в значительной степени обуславливает создание систем массового участия. Таким образом постоянное информационно-пропагандистское обеспечение нашей деятельности способствует подготовки и реализации систем массового участия.Таким образом сложившаяся структура организации позволяет выполнять важные задания по разработке дальнейших направлений развития. Повседневная практика показывает, что постоянное информационно-пропагандистское обеспечение нашей деятельности представляет собой интересный эксперимент проверки форм развития. Разнообразный и богатый опыт укрепление и развитие структуры требуют от нас анализа направлений прогрессивного развития.";

    @Override
    public String countCharsAndSortChars(String bigString) {
        char[] charArray = bigString.toCharArray();
        Map<Character, Integer> map = new HashMap<>();

        for (int i = 0; i < charArray.length; i++) {
            char c = charArray[i];
            if (map.get(c) == null) {
                map.put(c, 1);
            } else {
                map.put(c, map.get(c) + 1);
            }
        }

        List<Map.Entry<Character, Integer>> list = new ArrayList<>(map.entrySet());
        list.sort((o1, o2) -> (o1.getValue()).compareTo(o2.getValue()));

        StringBuilder stringBuilder = new StringBuilder();
        for(Map.Entry<Character, Integer> entry : list) {
            for(int i = 0; i < entry.getValue(); i++) {
                stringBuilder.append(entry.getKey());
            }
        }

        return stringBuilder.toString();
    }

    @Override
    public String countWordsAndSortWords(String bigString) {
        String [] wordsArray = bigString.split("[-,;:.!?\\s]+");
        Map<String, Integer> map = new HashMap<>();

        for (int i = 0; i < wordsArray.length; i++) {
            String s = wordsArray[i];
            if (map.get(s) == null) {
                map.put(s, 1);
            } else {
                map.put(s, map.get(s) + 1);
            }
        }

        List<Map.Entry<String, Integer>> list = new ArrayList<>(map.entrySet());
        list.sort((o1, o2) -> (o1.getValue()).compareTo(o2.getValue()));

        StringBuilder stringBuilder = new StringBuilder();
        for(Map.Entry<String, Integer> entry : list) {
            for(int i = 0; i < entry.getValue(); i++) {
                stringBuilder.append(entry.getKey().concat(" "));
            }
        }

        return stringBuilder.toString();

    }

    @Override
    public String reverseWords(String bigString) {

        String[] sentencesArray = bigString.split("[.!?]");

        StringBuilder stringBuilder = new StringBuilder();

        for (String value : sentencesArray) {
            String[] wordsArray = value.split(" ");

            for (int j = 0; j < wordsArray.length / 2; j++) {
                String s = wordsArray[j];
                wordsArray[j] = wordsArray[wordsArray.length - 1 - j];
                wordsArray[wordsArray.length - 1 - j] = s;
            }

            for (int k = 0; k < wordsArray.length - 1; k++) {

                stringBuilder.append(wordsArray[k]).append(" ");
            }
            stringBuilder.append(wordsArray[wordsArray.length - 1] + ". ");
        }

        return stringBuilder.toString();
    }
}
